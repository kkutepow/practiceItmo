<!DOCTYPE html>
<html>
    <head>
        <title>Рестораны</title>
        <link rel='stylesheet' href='/css/admin/admin.css' />
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link type="text/css" rel="stylesheet" href="/css/materialize.min.css"  media="screen,projection"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <%- include ../template/navigation_admin.ejs %>

    <body>
        <main>
            <!-- таблица пользователей !-->
            <div class="container">
                <div class="row">
                    <div class="col s12 m12 l12">
                        <table class="striped bordered centered margin-top-30">
                            <thead>
                            <tr>
                                <th>Код</th>
                                <th>Название</th>
                                <th>Изменить</th>
                                <th>Удалить</th>
                            </tr>
                            </thead>
                            <tbody>
                            <% for (var i in restaurants){ %>
                                <tr id="rest<%= restaurants[i].restaurantId %>">
                                    <td class="id"><%= restaurants[i].restaurantId %></td>
                                    <td class="name"><%= restaurants[i].restaurantName %></td>
                                    <td>
                                        <a href="#modalUpdate" onclick="changeSelect(<%= restaurants[i].restaurantId %>)" class="modal-trigger btn-flat">
                                            <i class="material-icons">settings</i>
                                        </a>
                                    </td>
                                    <td>
                                        <a href="#modalDelete" onclick="changeSelect(<%= restaurants[i].restaurantId %>)" class="modal-trigger btn-flat">
                                            <i class="material-icons" >delete</i>
                                        </a>
                                    </td>
                                </tr>
                            <% } %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- кнопка добавления !-->
            <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
                <a class="btn-floating btn-large waves-effect waves-light red modal-trigger" href="#modalAdd"><i class="material-icons">add</i></a>
            </div>

            <!-- модальные окна !-->
            <div id="modalAdd" class="modal">
                <div class="modal-content">
                    <h4>Добавление ресторана</h4>
                        <div class="row">
                            <div class="input-field col s12 l12 m12">
                                <input id="restName" type="text" class="validate">
                                <label for="restName">Название ресторана</label>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <a class="modal-action modal-close waves-effect waves-red btn-flat">Отмена</a>
                            <a id="active" onclick="restaurantAdd();" class="modal-action modal-close waves-effect waves-green btn-flat">Добавить</a>
                        </div>
                </div>
            </div>
            <div id="modalDelete" class="modal">
                <div class="modal-content">
                    <h4>Вы уверены?</h4>
                    <div class="modal-footer">
                        <a class="modal-action modal-close waves-effect waves-red btn-flat">Нет</a>
                        <a onclick="restaurantDelete();" class="modal-action modal-close waves-effect waves-green btn-flat ">Да</a>
                    </div>
                </div>
            </div>
            <div id="modalUpdate" class="modal">
                <div class="modal-content">
                    <h4>Изменение данных</h4>
                        <div class="row">
                            <div class="input-field col s12 l12 m12">
                                <input id="newRestName" type="text" class="validate">
                                <label for="newRestName">Новое название ресторана</label>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <a class="modal-action modal-close waves-effect waves-red btn-flat">Отмена</a>
                            <a id="active" onclick="restaurantUpdate();" class="modal-action modal-close waves-effect waves-green btn-flat">Изменить</a>
                        </div>
                </div>
            </div>
        </main>

        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="/js/materialize.min.js"></script>
        <script src="/js/restManagement.js"></script>
    </body>
</html>